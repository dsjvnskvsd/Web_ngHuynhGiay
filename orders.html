<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>ƒê∆°n h√†ng c·ªßa t√¥i - Ho√†ng Huynh Shoes üëü</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background: #f9f9f9;
      }
      .orders-container {
        width: 90%;
        max-width: 1000px;
        margin: 40px auto;
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        text-align: center;
        color: #e63946;
        margin-bottom: 25px;
      }
      .order {
        border: 1px solid #eee;
        border-radius: 8px;
        margin-bottom: 20px;
        padding: 15px;
        background: #fafafa;
      }
      .order-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }
      .order-header span {
        font-size: 15px;
        color: #333;
      }
      .order-items {
        border-top: 1px solid #ddd;
        padding-top: 10px;
      }
      .item {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
      }
      .item img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 6px;
      }
      .item-info {
        flex: 1;
      }
      .item-info h4 {
        margin: 0;
        font-size: 16px;
        color: #111;
      }
      .total {
        text-align: right;
        font-weight: 600;
        color: #e63946;
      }
      .empty {
        text-align: center;
        color: #777;
        font-size: 16px;
      }
      .btn-back {
        display: inline-block;
        background: #2a9d8f;
        color: #fff;
        padding: 10px 20px;
        border-radius: 8px;
        text-decoration: none;
        margin-top: 15px;
      }
      .btn-back:hover {
        background: #238177;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <div class="logo"><a href="index.html">Ho√†ng Huynh Shoes üëü</a></div>
      <div id="userSection"></div>
    </div>

    <div class="orders-container">
      <h1>üì¶ ƒê∆°n h√†ng c·ªßa b·∫°n</h1>
      <div id="ordersList"></div>
      <div style="text-align: center">
        <a href="index.html" class="btn-back">‚¨ÖÔ∏è Quay l·∫°i trang ch·ªß</a>
      </div>
    </div>

    <div class="footer">
      <p>Ho√†ng Huynh Shoes ¬© 2025 | Hotline: 0987 838 186</p>
    </div>

    <script src="main.js"></script>
    <script>
      const user = localStorage.getItem("userLogin");
      const ordersList = document.getElementById("ordersList");

      if (!user) {
        ordersList.innerHTML = `<p class="empty">‚ö†Ô∏è B·∫°n ch∆∞a ƒëƒÉng nh·∫≠p. Vui l√≤ng <a href="login.html">ƒëƒÉng nh·∫≠p</a> ƒë·ªÉ xem ƒë∆°n h√†ng.</p>`;
      } else {
        const orders = JSON.parse(
          localStorage.getItem("orders_" + user) || "[]"
        );
        if (orders.length === 0) {
          ordersList.innerHTML =
            '<p class="empty">üõçÔ∏è B·∫°n ch∆∞a c√≥ ƒë∆°n h√†ng n√†o.</p>';
        } else {
          let html = "";
          orders.reverse().forEach((order) => {
            html += `
              <div class="order">
                <div class="order-header">
                  <span>üßæ M√£ ƒë∆°n: <b>${order.code}</b></span>
                  <span>‚è∞ ${order.time}</span>
                </div>
                <div><b>Ng√¢n h√†ng:</b> ${order.bank}</div>
                <div class="order-items">
                  ${order.items
                    .map(
                      (i) => `
                        <div class="item">
                          <img src="${i.image}">
                          <div class="item-info">
                            <h4>${i.name}</h4>
                            <p>${i.price.toLocaleString("vi-VN")}ƒë</p>
                          </div>
                        </div>`
                    )
                    .join("")}
                </div>
                <div class="total">T·ªïng thanh to√°n: ${order.total.toLocaleString(
                  "vi-VN"
                )}ƒë</div>
              </div>`;
          });
          ordersList.innerHTML = html;
        }
      }
    </script>
    <script src="auth.js"></script>
  </body>
  <script src="main.js"></script>

</html>
